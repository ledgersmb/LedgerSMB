[% PROCESS 'elements.html' %]
<body class="lsmb [% dojo_theme %]">
  <div id="[% request.page_id %]">
    <div class="listtop">[% request.title %]</div>
    <div class="info">[% request.info %]</div>
    <form data-dojo-type="lsmb/Form"
          action="[% request.script %]"
          method="post"
          enctype="multipart/form-data">
      [% PROCESS input element_data = {
             type = "hidden"
             class = "hidden"
             name = "type"
             value = request.type
             } %]
      [% IF request.show_batch_title %]
      <div class="listtop">[% text('Batch Information') %]</div>
      [% END %]
      [% IF request.show_input %]
      <div data-dojo-type="lsmb/layout/TableContainer"
           data-dojo-props="cols:1">
        <div class="inputrow" id = "referencerow">
          [% PROCESS input element_data = {
                 type  = "text"
                 class = "reference"
                 name  = "reference"
                 title = text('Reference')
                 label = "_none_"
                 value = request.reference
                 size  = 15
                 required = "true"
                 } %]
        </div>
        <div class="inputrow" id = "descriptionrow">
          [% PROCESS input element_data = {
                 type  = "text"
                 class = "description"
                 name  = "description"
                 title = text('Description')
                 label = "_none_"
                 value = request.description
                 required = "true"
                 } %]
        </div>
        <div class="inputrow" id="daterow">
          [% PROCESS input element_data = {
                 type = "text"
                 class = "date"
                 title = text("Transaction Date") #'
                 label = "_none_"
                 name = "transdate"
                 value = request.transdate
                 size = 12
                 required = "true"
                 } %]
        </div>
      </div>
      [% END %]
      <div class="inputrow" id="filerow">
        [% PROCESS input element_data = {
               name = "import_file"
               type = "file"
               label = text('From File') #'
               class = "file"
               accept = ".csv"
               required = "true"
               } %]
      </div>
      <div class="inputrow" id="buttonrow">
        [% PROCESS input element_data = {
               type = "hidden"
               name = "trans_type"
               value = request.trans_type
               } %]
        [% PROCESS button element_data = {
               text = text("Save")
               type = "submit"
               class = "submit"
               name = "action"
               value = "run_import"
               } %]
      </div>
    </form>
  </div>
</body>
