<?lsmb# HTML Snippet, for import only, no validate ?>
        <div style="text-align: center"><a target="_blank" href="http://ledgersmb.org/">
            <img class="cornerlogo" src="images/ledgersmb_small-trans.png"
                  width="100" height="50" border="1" alt="LedgerSMB" />
        </a></div>
        <div id="version_info"><?lsmb text("LedgerSMB [_1]", version) ?></div>
        <table id="header_info" class="header_table">
        <tr><td id="login_info_header" class="header_left"><?lsmb text("User") ?></td>
            <td id="company_info_header" class="header_right"><?lsmb text("Company") ?></td>
        </tr>
        <tr><td id="login_info" class="header_left"><?lsmb login ?></td>
            <td id="company_info" class="header_right"><?lsmb company ?></td>
        </tr>
        </table>
        <div id="login" style='display:none'><?lsmb login ?></div>
        <div id="open" style='display:none'><?lsmb open ?></div>
        <hr>

        <div id="top_menu"></div>
        <ul id="menuTree_menu" data-dojo-type="lsmb/menus/MenuRestStore"
            data-dojo-props='style:"display: none;"'>
            <li data-dojo-type="dijit/MenuItem">
                <script type="dojo/connect">
                    var menu = dijit.byId("menuTree_menu");
                    // when we right-click anywhere on the tree, make sure we open the menu
                    menu.bindDomNode(this.domNode);

                    dojo.connect(menu, "_openMyself", this, function(e){
                        // get a hold of, and log out, the tree node that was the source of this open event
                        var tn = dijit.getEnclosingWidget(e.target);
                        console.debug(tn);

                        // now inspect the data store item that backs the tree node:
                        console.debug(tn.item);

                        // contrived condition: if this tree node doesn't have any children, disable all of the menu items
                        menu.getChildren().forEach(function(i){ i.set('disabled', !tn.item.children); });

                        // IMPLEMENT CUSTOM MENU BEHAVIOR HERE
                    });
                </script>
            </li>
        </ul>
